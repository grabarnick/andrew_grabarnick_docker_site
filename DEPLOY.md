# üöÄ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –¥–µ–ø–ª–æ—è –Ω–∞ DigitalOcean.

## üìã –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ (–æ–¥–∏–Ω —Ä–∞–∑)
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –º–∞—Å—Ç–µ—Ä-—Å–∫—Ä–∏–ø—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
chmod +x setup-deploy.sh
./setup-deploy.sh
```

### 2. –î–µ–ø–ª–æ–π
```bash
# –ü—Ä–æ—Å—Ç–æ–π –¥–µ–ø–ª–æ–π
./deploy.sh

# –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –¥–µ–ø–ª–æ–π —Å –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏
./deploy-advanced.sh
```

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –§–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:
- `deploy.sh` - –ü—Ä–æ—Å—Ç–æ–π —Å–∫—Ä–∏–ø—Ç –¥–µ–ø–ª–æ—è
- `deploy-advanced.sh` - –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π —Å–∫—Ä–∏–ø—Ç —Å –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏
- `deploy-config.sh` - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- `.github/workflows/deploy.yml` - GitHub Actions

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
- `SERVER_IP` - IP –∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞
- `SERVER_USER` - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–µ—Ä–≤–µ—Ä–∞ (root)
- `PROJECT_PATH` - –ü—É—Ç—å –∫ –ø—Ä–æ–µ–∫—Ç—É –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- `DOMAIN` - –î–æ–º–µ–Ω —Å–∞–π—Ç–∞

## üéØ Workflow

### –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞:
1. –í–Ω–µ—Å–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥
2. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –ª–æ–∫–∞–ª—å–Ω–æ: `npm run dev`
3. –ó–∞–¥–µ–ø–ª–æ–π—Ç–µ: `./deploy.sh`

### –° GitHub Actions:
1. –í–Ω–µ—Å–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
2. –ó–∞–∫–æ–º–º–∏—Ç—å—Ç–µ: `git add . && git commit -m "Update"`
3. –ó–∞–ø—É—à—å—Ç–µ: `git push origin main`
4. GitHub Actions –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–¥–µ–ø–ª–æ–∏—Ç

## üîç –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞:
```bash
# –°—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
ssh root@YOUR_SERVER_IP "cd /root/andrew_grabarnick_docker_site && docker compose ps"

# –õ–æ–≥–∏
ssh root@YOUR_SERVER_IP "cd /root/andrew_grabarnick_docker_site && docker compose logs web"
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∞–π—Ç–∞:
```bash
# HTTP —Å—Ç–∞—Ç—É—Å
curl -I https://grabarnick.com

# –ü—Ä–æ–≤–µ—Ä–∫–∞ SSL
curl -I https://grabarnick.com
```

## üõ†Ô∏è –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ü—Ä–æ–±–ª–µ–º—ã —Å SSH:
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
ssh -v root@YOUR_SERVER_IP

# –ü–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏–µ –∫–ª—é—á–µ–π
ssh-keygen -t rsa -b 4096 -C "your_email@example.com"
ssh-copy-id root@YOUR_SERVER_IP
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å Docker:
```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
docker compose down
docker system prune -f
docker compose up --build -d
```

### –û—Ç–∫–∞—Ç –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –≤–µ—Ä—Å–∏–∏:
```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
ssh root@YOUR_SERVER_IP
cd /root/andrew_grabarnick_docker_site
git log --oneline
git checkout <commit-hash>
docker compose up --build -d
```

## üìä GitHub Actions

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ–∫—Ä–µ—Ç–æ–≤:
1. –ó–∞–π–¥–∏—Ç–µ –≤ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. Settings ‚Üí Secrets and variables ‚Üí Actions
3. –î–æ–±–∞–≤—å—Ç–µ:
   - `HOST`: IP –∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞
   - `USERNAME`: root
   - `SSH_KEY`: —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ ~/.ssh/id_rsa

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π:
- –ü—Ä–∏ push –≤ –≤–µ—Ç–∫—É `main` –∏–ª–∏ `master`
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
- –û—á–∏—Å—Ç–∫–∞ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö Docker –æ–±—Ä–∞–∑–æ–≤

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### SSH –∫–ª—é—á–∏:
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ RSA 4096-bit –∫–ª—é—á–∏
- –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –∫–ª—é—á–∏
- –†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ –∫–ª—é—á–∏

### –°–µ—Ä–≤–µ—Ä:
- –û–±–Ω–æ–≤–ª—è–π—Ç–µ —Å–∏—Å—Ç–µ–º—É: `apt update && apt upgrade`
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ firewall: `ufw enable`
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Cloudflare –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∑–∞—â–∏—Ç—ã

## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:
- Cloudflare CDN –≤–∫–ª—é—á–µ–Ω
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤
- –°–∂–∞—Ç–∏–µ gzip
- –ú–∏–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è CSS/JS

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:
- Cloudflare Analytics
- Docker stats: `docker stats`
- –õ–æ–≥–∏ Nginx: `docker compose logs web`
